{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["export { }\n\n// public variables\nvar canvas: HTMLCanvasElement;\nvar context: CanvasRenderingContext2D;\nvar start_time: number | undefined = undefined;\nvar t: number = 0; // seconds since start\nvar last_tick: number = 0;\nvar width: number;\nvar height: number;\n\nvar keyStates: Set<string> = new Set();\n\nvar left_bar: number;\nvar ball: [number, number];\nvar velo: [number, number];\nvar auto = true;\n\n// main functions\nfunction draw() {\n    context.resetTransform();\n    context.fillStyle = \"black\";\n    context.fillRect(0, 0, width, height);\n\n    context.fillStyle = \"grey\";\n    context.fillRect(10, left_bar, 20, 150);\n\n    context.fillRect(ball[0], ball[1], 20, 20);\n\n}\n\nfunction update(dt: number) {\n    if (keyStates.has(\"ArrowDown\")) {\n        left_bar += 5;\n        auto = false;\n    }\n    if (keyStates.has(\"ArrowUp\")) {\n        left_bar -= 5;\n        auto = false;\n    }\n    ball[0] += velo[0];\n    ball[1] += velo[1];\n\n    if (ball[0] < 30 && left_bar < ball[1] + 20 && ball[1] < left_bar + 150) {\n        velo[0] = -velo[0];\n        velo[1] = (Math.random() - 0.5) * 10;\n    }\n\n    if (ball[1] < 0 || ball[1] + 20 > height) {\n        velo[1] = -velo[1];\n    }\n\n    if (ball[0] + 20 > width) {\n        velo[0] = -1.2 * velo[0];\n    }\n    if (auto) {\n        let d = (ball[1] - 75) - left_bar;\n        let v = Math.min(Math.abs(d), 5)\n        left_bar += Math.sign(d) * v;\n    }\n}\n\n\nfunction loop(now: number = 0) {\n    now /= 1000; // convert to seconds\n    if (start_time === undefined) {\n        // 1st run\n        start_time = now;\n        last_tick = now;\n    } else {\n        // normal tick\n        t = now - start_time;\n        let dt = now - last_tick;\n        last_tick = now;\n        update(dt);\n        draw();\n    }\n    window.requestAnimationFrame(loop);\n}\n\n\n\nfunction resized() {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    canvas.width = width;\n    canvas.height = height;\n}\n\n\nfunction key(e: KeyboardEvent) {\n    switch (e.type) {\n        case \"keydown\":\n            keyStates.add(e.key);\n            break;\n        case \"keyup\":\n            keyStates.delete(e.key);\n            break;\n        default:\n            console.warn(\"Wut?\");\n\n    }\n}\n\nfunction main() {\n    let x: number | String = 5;\n    if (typeof(x) == \"number\") {\n\n    }\n    x = \"Test\";\n    document.body.removeChild(document.getElementById(\"noscript-text\")!);\n    canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n    context = canvas.getContext(\"2d\")!;\n    resized();\n\n    left_bar = height / 2;\n    ball = [width / 2, height / 2];\n    velo = [-3, 0];\n\n    window.addEventListener(\"keydown\", key);\n    window.addEventListener(\"keyup\", key);\n    loop();\n}\n\nmain();"],
  "mappings": ";;AAGA,MAAI;AACJ,MAAI;AACJ,MAAI,aAAiC;AACrC,MAAI,IAAY;AAChB,MAAI,YAAoB;AACxB,MAAI;AACJ,MAAI;AAEJ,MAAI,YAAyB,oBAAI,IAAI;AAErC,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI,OAAO;AAGX,kBAAgB;AACZ,YAAQ,eAAe;AACvB,YAAQ,YAAY;AACpB,YAAQ,SAAS,GAAG,GAAG,OAAO,MAAM;AAEpC,YAAQ,YAAY;AACpB,YAAQ,SAAS,IAAI,UAAU,IAAI,GAAG;AAEtC,YAAQ,SAAS,KAAK,IAAI,KAAK,IAAI,IAAI,EAAE;AAAA,EAE7C;AAEA,kBAAgB,IAAY;AACxB,QAAI,UAAU,IAAI,WAAW,GAAG;AAC5B,kBAAY;AACZ,aAAO;AAAA,IACX;AACA,QAAI,UAAU,IAAI,SAAS,GAAG;AAC1B,kBAAY;AACZ,aAAO;AAAA,IACX;AACA,SAAK,MAAM,KAAK;AAChB,SAAK,MAAM,KAAK;AAEhB,QAAI,KAAK,KAAK,MAAM,WAAW,KAAK,KAAK,MAAM,KAAK,KAAK,WAAW,KAAK;AACrE,WAAK,KAAK,CAAC,KAAK;AAChB,WAAK,KAAM,MAAK,OAAO,IAAI,OAAO;AAAA,IACtC;AAEA,QAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,QAAQ;AACtC,WAAK,KAAK,CAAC,KAAK;AAAA,IACpB;AAEA,QAAI,KAAK,KAAK,KAAK,OAAO;AACtB,WAAK,KAAK,OAAO,KAAK;AAAA,IAC1B;AACA,QAAI,MAAM;AACN,UAAI,IAAK,KAAK,KAAK,KAAM;AACzB,UAAI,IAAI,KAAK,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC;AAC/B,kBAAY,KAAK,KAAK,CAAC,IAAI;AAAA,IAC/B;AAAA,EACJ;AAGA,gBAAc,MAAc,GAAG;AAC3B,WAAO;AACP,QAAI,eAAe,QAAW;AAE1B,mBAAa;AACb,kBAAY;AAAA,IAChB,OAAO;AAEH,UAAI,MAAM;AACV,UAAI,KAAK,MAAM;AACf,kBAAY;AACZ,aAAO,EAAE;AACT,WAAK;AAAA,IACT;AACA,WAAO,sBAAsB,IAAI;AAAA,EACrC;AAIA,qBAAmB;AACf,YAAQ,OAAO;AACf,aAAS,OAAO;AAChB,WAAO,QAAQ;AACf,WAAO,SAAS;AAAA,EACpB;AAGA,eAAa,GAAkB;AAC3B,YAAQ,EAAE;AAAA,WACD;AACD,kBAAU,IAAI,EAAE,GAAG;AACnB;AAAA,WACC;AACD,kBAAU,OAAO,EAAE,GAAG;AACtB;AAAA;AAEA,gBAAQ,KAAK,MAAM;AAAA;AAAA,EAG/B;AAEA,kBAAgB;AACZ,QAAI,IAAqB;AACzB,QAAI,OAAO,KAAM,UAAU;AAAA,IAE3B;AACA,QAAI;AACJ,aAAS,KAAK,YAAY,SAAS,eAAe,eAAe,CAAE;AACnE,aAAS,SAAS,eAAe,QAAQ;AACzC,cAAU,OAAO,WAAW,IAAI;AAChC,YAAQ;AAER,eAAW,SAAS;AACpB,WAAO,CAAC,QAAQ,GAAG,SAAS,CAAC;AAC7B,WAAO,CAAC,IAAI,CAAC;AAEb,WAAO,iBAAiB,WAAW,GAAG;AACtC,WAAO,iBAAiB,SAAS,GAAG;AACpC,SAAK;AAAA,EACT;AAEA,OAAK;",
  "names": []
}
